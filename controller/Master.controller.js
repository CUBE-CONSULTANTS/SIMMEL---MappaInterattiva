sap.ui.define(["./BaseController","sap/ui/model/json/JSONModel","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/core/Fragment","../model/formatter","../model/mapper"],function(t,e,n,o,a,r,s){"use strict";return t.extend("simmel.mappaInterattiva.controller.Master",{onInit:function(){this.getRouter().getRoute("master").attachPatternMatched(this._onRouteMatched,this)},_initMasterData:function(){const t=new e;const n=async()=>await t.loadData("./data/regions.json");n().then(()=>{const{regions:e}=t.getData();this.getOwnerComponent().getModel("master").setProperty("/table/data",e)})},_onRouteMatched:function(){this._initMasterData()},onCustomListItemPress:function(t){const e=t.getSource();const n=e.getBindingContext("master");const o=n.getProperty("country_code");t.getSource().getParent().getItems().forEach(t=>{const e=t.getContent()[0];const n=e.getBindingContext("master");if(n.getProperty("country_code")===o)e.setExpanded(true);else e.setExpanded(false)});if(o)this.getRouter().navTo("detail",{country:o})},onSearchFieldLiveChange:function(t){const e=t.getSource().getParent().getItems()[1];const a=t.getParameter("newValue");const r=new n("country_name",o.Contains,a);if(a)e.getBinding("items").filter(r);else e.getBinding("items").filter([])}})});