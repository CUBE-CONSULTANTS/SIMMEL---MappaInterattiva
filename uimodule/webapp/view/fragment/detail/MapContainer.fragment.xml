<core:FragmentDefinition
  xmlns="sap.m"
  xmlns:core="sap.ui.core"
  xmlns:l="sap.ui.layout"
	xmlns:vk="sap.ui.vk"
	xmlns:vbm="sap.ui.vbm"
  xmlns:chart="sap.suite.ui.microchart"
>
    <vk:MapContainer 
      id="mapContainer"
      autoAdjustHeight="true"
      showFullScreen="false"
      showMapLayer="false"
      showRectangularZoom="false"
      showHome="false"
      showSettings="false"
      showSelection="false"
    >
      <vk:content>
        <vk:ContainerContent 
          title="Analytic Map"
          icon="sap-icon://geographic-bubble-chart"
        >
          <vk:content>
            <vbm:AnalyticMap 
              id="vbi1"
              width="100%" 
              height="100%" 
              initialPosition="5;35;0"
              enableAnimation="true"
              regionClick=".onRegionClick"
              regions="{detail>/regions}"
            >
              <vbm:legend>
                <vbm:Legend items="{detail>/legend/items}">
                  <vbm:LegendItem 
                    text="{detail>text}" 
                    image="{detail>image}" 
                    color="{detail>color}"
                  />
                </vbm:Legend>
              </vbm:legend>
              <vbm:regions>
                <vbm:Region 
                  code="{detail>country_code}" 
                  color="{detail>color}" 
                  tooltip="{detail>country_name}"
                />
              </vbm:regions>
              <vbm:vos>
                <vbm:Spots 
                  items="{detail>/data}" 
                  click="onClickItem"
                  contextMenu="onContextMenuItem"
                >
                  <vbm:Spot 
                    icon="{detail>icon}"
                    position="{detail>pos}" 
                    contentColor="rgb(0,0,0)"
                    tooltip="{detail>tooltip}" 
                    text="{detail>text}"
                    type="{detail>type}"
                    click="onSpotClick" 
                    contextMenu="onContextMenuSpot"
                  />
                </vbm:Spots>
              </vbm:vos>
            </vbm:AnalyticMap>
          </vk:content>
        </vk:ContainerContent>
      </vk:content>
    </vk:MapContainer>
</core:FragmentDefinition>