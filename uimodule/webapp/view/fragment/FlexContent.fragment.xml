<core:FragmentDefinition
  xmlns="sap.m"
  xmlns:core="sap.ui.core"
  xmlns:l="sap.ui.layout"
	xmlns:vk="sap.ui.vk"
	xmlns:vbm="sap.ui.vbm"
  xmlns:chart="sap.suite.ui.microchart"
>
    <vk:MapContainer 
      autoAdjustHeight="true"
      showFullScreen="false"
      showMapLayer="false"
      showRectangularZoom="false"
      showSettings="false"
      showSelection="false"
    >
      <vk:content>
        <vk:ContainerContent 
          title="Analytic Map"
          icon="sap-icon://geographic-bubble-chart"
        >
          <vk:content>
            <vbm:AnalyticMap 
              id="vbi1"
              width="100%" 
              height="100%" 
              initialZoom="3"
              initialPosition="0;0;0"
              enableAnimation="true"
              regionClick="onRegionClick"
              regionContextMenu="onRegionContextMenu"
              regions="{test>/regions}"
            >
              <vbm:legend>
                <vbm:Legend items="{test>/legend/items}">
                  <vbm:LegendItem 
                    text="{test>text}" 
                    image="{test>image}" 
                    color="{test>color}"
                  />
                </vbm:Legend>
              </vbm:legend>
              <vbm:regions>
                <vbm:Region 
                  code="{test>code}" 
                  color="{test>color}" 
                  tooltip="{test>tooltip}"
                />
              </vbm:regions>
              <vbm:vos>
                <vbm:Spots 
                  items="{test>/data}" 
                  click="onClickItem"
                  contextMenu="onContextMenuItem"
                >
                  <vbm:Spot 
                    icon="{test>icon}"
                    position="{test>pos}" 
                    contentColor="rgb(0,0,0)"
                    tooltip="{test>tooltip}" 
                    type="{test>type}"
                    click="onSpotClick" 
                    contextMenu="onContextMenuSpot"
                  />
                </vbm:Spots>
              </vbm:vos>
            </vbm:AnalyticMap>
          </vk:content>
        </vk:ContainerContent>
      </vk:content>
    </vk:MapContainer>
</core:FragmentDefinition>